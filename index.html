<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>وضعیت سرور MorghLandVersion3</title>


  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://cdn.jsdelivr.net/gh/rastikerdar/vazir-font@v30.1.0/dist/font-face.css" rel="stylesheet">

  <style>
    body {
      font-family: 'Vazir', sans-serif;
    }
    @keyframes pulse-soft {
      0%,100% { opacity: 1; }
      50% { opacity: .6; }
    }
    .animate-pulse-soft {
      animation: pulse-soft 2s cubic-bezier(.4,0,.6,1) infinite;
    }
  </style>
</head>

<body class="bg-white dark:bg-slate-900 text-slate-800 dark:text-slate-100 transition-colors">

  <main class="min-h-screen flex flex-col items-center justify-center p-4">
    <div class="max-w-sm w-full bg-white dark:bg-slate-800 rounded-2xl shadow-2xl p-6 space-y-6">

      
      <h1 class="text-2xl font-bold text-center text-indigo-600 dark:text-indigo-400">
        MorghLandVersion3
      </h1>

      
      <div id="statusBox" class="text-center space-y-2">
        <div id="statusText" class="text-lg animate-pulse-soft">در حال بررسی...</div>
        <div id="playerCount" class="text-3xl font-bold"></div>
      </div>

      
      <button id="refreshBtn" onclick="checkServerStatus()" class="w-full bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-2 rounded-lg transition">
        ⟳ رفرش
      </button>
    </div>

   
    <footer class="text-slate-500 dark:text-slate-400 text-sm mt-8">
   
    </footer>
  </main>

  <script>
    const serverIP = "MorghLandVersion3.aternos.me";
    const serverPort = 39995;

    async function checkServerStatus() {
      const statusText = document.getElementById('statusText');
      const playerCount = document.getElementById('playerCount');
      const refreshBtn = document.getElementById('refreshBtn');

      refreshBtn.disabled = true;
      statusText.textContent = 'در حال بررسی...';
      statusText.classList.add('animate-pulse-soft');
      playerCount.textContent = '';

      try {
        const res = await fetch(`https://api.mcstatus.io/v2/status/java/${serverIP}:${serverPort}`);
        const data = await res.json();

        if (data.online) {
          statusText.textContent = '✅ سرور آنلاین است';
          playerCount.textContent = `${data.players.online} / ${data.players.max}`;
        } else {
          statusText.textContent = '❌ سرور آفلاین است';
          playerCount.textContent = '';
        }
      } catch {
        statusText.textContent = '⚠️ خطا در بررسی وضعیت';
        playerCount.textContent = '';
      } finally {
        statusText.classList.remove('animate-pulse-soft');
        refreshBtn.disabled = false;
      }
    }

    checkServerStatus();
    setInterval(checkServerStatus, 30000); 
  </script>
</body>
</html>
